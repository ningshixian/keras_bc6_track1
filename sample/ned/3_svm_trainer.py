'''
现简单对屏幕回显信息进行说明：
#iter为迭代次数，
nu 与前面的操作参数-n nu 相同，
obj为SVM文件转换为的二次规划求解得到的最小值，
rho 为判决函数的常数项b，
nSV 为支持向量个数，
nBSV为边界上的支持向量个数，
Total nSV为支持向量总个数。

SVM 模型采用rbf核函数，数据进行标准化

参考：http://www.voidcn.com/article/p-pgruxmdu-bra.html
参考：https://xacecask2.gitbooks.io/scikit-learn-user-guide-chinese-version/content/sec1.4.html
'''

import os
import numpy as np
import pickle as pkl
from sklearn import svm
from sklearn.preprocessing import StandardScaler


if os.path.exists('data/train_svm.pkl'):
    try:
        with open('data/train_svm.pkl', "rb") as f:
            x, y = pkl.load(f)
            x = np.array(x)
            y = np.array(y)
            print(x.shape)  # (243334, 207)
            print(list(y).count(1))  # 57452
            print(list(y).count(0))  # 170587
            scaler = StandardScaler()
            scaler.fit(x)
            x = scaler.transform(x)
    except EOFError:
        print('文件为空，或文件正在写')
else:
    raise FileNotFoundError


'''
verbose=True    指示进度的输出
probability ：是否采用概率估计？.默认为False
max_iter ：最大迭代次数。-1为无限制。
kernel ：核函数，默认是rbf
    ‘linear’:线性核函数
    ‘poly’：多项式核函数
    ‘rbf’：径像核函数/高斯核
    ‘sigmoid’:sigmoid 核函数
    ‘precomputed’:核矩阵 X.shape[0] == X.shape[1]
'''
clf_linear = svm.SVC(kernel='linear', verbose=True, max_iter=1000)
clf_poly = svm.SVC(kernel='poly', degree=3, verbose=True, max_iter=1000)
clf_rbf = svm.SVC(kernel='rbf', verbose=True, max_iter=1000)
clf_rbf.fit(x, y)


print('SVM模型训练完毕，保存')
# 保存Model(注:save文件夹要预先建立，否则会报错)
with open('data/clf.pkl', 'wb') as f:
    pkl.dump(clf_rbf, f)


#读取Model
with open('data/clf.pkl', 'rb') as f:
    clf2 = pkl.load(f)
    #测试读取后的Model
    test = list(np.random.uniform(-0.1, 0.1, 218))
    test1_a = [3, 1, 4, 1, 5, 1, 5, 8, 8, 17, 24, 33, 9, 35, 32, 19, 32, 60, -0.22090297140311874, -0.11585975112720172, -0.13392611833602405, 0.1041243142406989, 3.5168278354877627, -0.044719421323330052, -0.31537359273016946, 1.0624797560317045, 7.8970686775251977, 1.7413547714045536, 0.70908138194396975, 4.0163196815121651, 2.6723471544871318, 0.95273586433855195, -0.63417860029662343, -0.0094390281555140083, 0.20954001596692648, -0.28331963405940946, 0.26206477191111188, -0.20325471965961486, -0.015541252882075231, 0.0012996703028754326, 2.1757985138063982, 0.14680834894854256, -0.4169391819426545, -0.51249311002303, 0.38397066499348514, -0.037039101151109512, -0.010194853799204455, 0.29626801536612385, 1.4725406604456552, 0.58535034027381916, -0.045040418910263953, 2.0654135717555695, 0.48493321738622286, -0.4426464194711125, 0.15448819831291782, -0.0013229171511309765, 1.1911877133095889, -0.14247590079202074, 0.844814152297518, -1.4341289627242173, -0.74025253619238485, 4.1249426804894593, 0.25019168817015947, 0.48093197627919365, 0.99147306270204105, 0.43856111723230168, 0.09118666434486053, 3.5499613810779769, 1.8630856493840349, 0.84002982724475128, -0.17041012482481058, -0.040928332047572534, -0.47291105079643025, 2.5640913376767549, 0.0525238597142932, 0.0098614631401497573, -0.47923648513698908, 1.0889141208356963, 0.95193464254015137, 0.26478774615263023, 0.19567148959082659, 0.33628491511700626, 0.064546365515660911, 0.31339008632997312, -0.024950760027988891, 0.95943127476453538, 0.35632796259041599, 1.3270622078508838, 0.17047990052005194, 0.030527167406352966, 1.8856398220325152, 0.27664310684816462, 0.70082235280348382, 0.22212822914856437, 0.1489277736089443, -0.087468726456816193, 0.2415128635543794, 0.21835325441864348, 0.79014583027931651, -0.022259796088071972, 0.85098603519416971, 3.7750784258524459, -0.66232794908031267, 0.53903899007944389, 0.056033010297059628, 1.4320042286836538, 0.51980479499840693, 0.24778433028309022, 3.4903782392372937, 1.1123705246028568, 0.014817519714399721, 0.56750000103846843, -0.037597653950104878, 0.012410846704651871, 2.9091451021758199, 1.3552964063849473, 1.6116096763201264, 0.43577817893551068, 3.0871257092737556, 0.22481171886638293, 0.5486171989351134, 0.30662686223910179, 0.32678763837020441, -0.53178974613625296, 0.24073365619136941, 0.24219911613701656, 0.92758992035480414, -0.17601136152057772, 0.63031770349488381, 0.10995794117643609, -0.0043284925232418689, 0.94129346391312674, 1.7290893578538027, 0.75703980816164695, 0.43100320618255222, 0.2336698756132827, 5.1084726171573864, 0.15011341377974405, 0.041363918816971872, 0.16979311466888233, -1.6815321757568042, 1.7214167624844032, -0.12186867675519998, -0.32751873932698972, -0.21266882271456425, 0.87853102302952224, -0.36225135391709862, 1.0425457786201602, 1.6753340768354348, 1.2513892475760435, 0.10428687690197763, 0.76467065058819617, -0.18137426523050001, 0.79689519520664076, 0.10510169065228532, -0.16734447772142244, -0.15520872901655003, -1.1669498306020096, 0.051151016838744727, -0.34368978053712007, 0.025673921993413468, 2.1960113299736435, -0.07082844502636923, -0.021229368111257821, 0.78330116277233708, 0.19887960814406044, -0.54600919253614011, -0.96581351489290401, -0.19959980167820113, 0.075895257184425885, 1.0344739497848969, 1.0025634485459742, 1.695557555663012, 0.14837694612060634, 0.29425264186664046, 0.27778688661167922, -0.2420204429425537, 1.0719385027042638, 0.14215369020220944, 1.5944186838245458, 0.28676779480875969, 0.082988690887616332, 1.034546113838295, 2.5585109715554801, 0.4362622317445497, -0.45768642849213964, 0.0078499001086764723, -0.27015681721443252, -0.77823602955021964, -0.59921708025999654, -0.12876166355177845, -0.11984263817825638, 0.34939542586804384, 1.5822050595906065, 2.6133500879304785, 2.9660213383494018, 0.96264916485295471, 1.5586675895630409, 0.15189745482017947, 0.79979929543339501, 0.35230843856239391, 0.77036148603916865, -0.1894072591530637, 1.706254537173423, -0.076238229724231679, 0.34320270934919112, 0.99151454668527217, 0.27797231464367322, 2.4943714034770368, 0.19862848746094069, -0.51845881655343729, -0.19333823595774566, 0.036584612061432313, 1.5611620311827576, -0.041727400155713135, -0.020580934107871086, 0.8194446132390939, 2.4666418468542215]
    test1_b = [5, 5, 5, 1, 5, 1, 5, 3, 8, 3, 8, 8, 9, 1, 19, 2, 18, 1, 0.043571554793885872, 0.051632172466653303, -0.26417225820704926, -0.045529085737996494, 0.31498826539721997, 0.011521441729813123, -0.019908584830765939, -0.057860079571617276, 0.6273604626742284, 0.076456425740726586, 0.33816094257019469, -0.11899096945469564, -0.019675675876336375, -0.18332431677995598, -0.038614327457621875, -0.018870433521650673, 0.11603376689967995, 0.12713291711622673, -0.022514862333684979, 0.087247938575720205, -0.018666038874345314, 0.015876232503509276, 0.052607047404598435, -0.01502058839790074, 0.043795306819212509, 0.043797355825897423, -0.10901795206692202, 0.00050311830006338776, 0.026471759036017589, -0.25139749773394304, 0.17975369320531051, 0.043891640650481997, -0.017137173386767884, 0.32751123041137847, 0.017949465466678534, -0.087576632822454731, -0.064302094895862499, -0.0044092282409659272, 0.15397338078175654, 0.28698457949441786, -0.044943302338456559, -0.13432457865596786, -0.082939283698244826, 0.4143438936569887, 0.13890495237037936, 0.1341564452311215, 0.06101228877139727, -0.14785950447426274, -0.010704564216828262, 0.80931183715586352, -0.26658954276337421, 0.13456047195362017, -0.022611360540144485, 0.087293711605705634, 0.046939828170101991, 0.31272271032881177, -0.0032319129062741096, -0.0097744863748998548, -0.050366233827349519, -0.032487418698193736, 0.0073853764381924562, -0.036047041972534062, -0.039454670936268574, -0.013191327456753882, -0.0024024644306132213, -0.01367401494351703, -0.029035455598469335, 0.28026535344883147, 0.00031130574416645003, 0.19800208769916994, 0.0047260448536283473, 0.05583907201230727, 0.55541469873135463, 0.2799021259611254, -0.03851888344059471, -0.042973126169985595, -0.29633036999326035, -0.018456682757098494, 0.39808010065575039, 0.019590104847817431, -0.16582457630721956, 0.010689971065503526, -0.38433718133721784, -0.03255280197438646, 0.042757557401267188, 0.12594482489648859, 0.0090830517064130149, 0.051074314792360478, 0.050895638388551302, -0.033478521086907145, -0.066337158048796474, 0.010177818137906993, 0.031824017673655558, 0.04804850236751762, 0.11779551783698787, -0.0026375122706850055, 0.29976534224210788, -0.037184700380485693, -0.024399202788924487, 0.034442891094878428, -0.16218698589413247, -0.04498972175586792, -0.023253910695467866, 0.15386973881829097, -0.038549710793264212, -0.049614830329952682, 0.018922108755015713, 0.026337545485945038, 0.14934913966208252, -0.10651205278327405, 0.04224228730577665, 0.005590214970899861, 0.019630646868609509, 0.28546111791144635, 0.53824623561966412, 0.14325445103935813, 0.13034031601335705, 0.033151998911762605, -0.26166848787810953, 0.079359966070718643, 0.017860887686180084, -0.034348167011354472, 0.15669298659979547, 0.22786711692696041, 0.00043015282889391444, 0.083043883116699788, 0.049584807949256279, -0.12293421437000961, -0.19519807799415581, 0.13998564692142604, -0.11999298929319288, -0.24500784489674715, 0.2137266944573826, 0.098470871719387926, -0.076572552075567457, 0.15683711107733647, 0.011010260555553203, 0.010534966824101199, 0.011846696978961959, -0.29646732259776459, 0.052232811686431076, -0.17976216606386447, -0.00042728713012269207, -0.028959780111643855, -0.1080560889579277, 0.10880609058828565, -0.28144339592752998, -0.031159369207289758, -0.060533952747350218, -0.78393170261409639, -0.059718860563503687, 0.015862113727506837, -0.27323725983386754, 0.12504269007300808, 0.025209820471184224, 0.14944863001855827, 0.036861031494903253, -0.2392730459087892, 0.037510399063310773, 0.065566961519845937, -0.021499808497937048, 0.090109676278510187, 0.060986811887154033, 0.10783748790729598, 0.28385199578858872, 0.26512308027957976, 0.020878841360998532, -0.026078855140087072, -0.0066397629003397312, 0.0043970846646905317, -0.044580723048588296, -0.0032663541520200744, 0.0054249578852043363, 0.080098176419528738, -0.27186148737475369, 0.30905506883577066, -0.1988097303463966, -0.56267258103582607, 0.010433788328194846, -0.52753674105249238, -0.046129183484235406, 0.24562578005365762, 0.09737655352445547, -0.0037272741219040771, 0.028400773956105851, 0.7874815779032095, -0.0050575881166790614, -0.14998732513947136, 0.099602176732888806, 0.053564327914340959, -0.21714923423784802, 0.071829745857141428, 0.23937316304199813, -0.0035771019794376417, -0.025643572047140094, 0.27503874223089403, -0.025189414348131448, 0.057534457331897548, 0.32163218971633956, 0.026579160225846221]
    test0_a = [5, 2, 4, 1, 5, 1, 5, 25, 7, 17, 5, 24, 20, 30, 36, 11, 54, 17, -0.15875987530393082, -0.027310946805428133, -0.074958258023602134, 0.057133698951976536, 2.6769632041662872, -0.02756696507326693, -0.24958417597375324, 0.88189364590477082, 5.2860765355133275, 1.1836917085051955, 0.4932295735175139, 2.8540012706800209, 1.8198005630526475, 0.30329787855686013, -0.4215373906056693, -0.0037488752567412099, 0.12972163698348349, -0.22401256872872699, 0.17128358750397665, -0.1482921074445423, -0.013790682314409717, -0.0035175456232732919, 1.6218490202431899, 0.17588985950484146, -0.20781395590742349, -0.1049957698009118, 0.3618451354887911, -0.027416805760985943, -0.012370881077787431, 0.22228294527667947, 1.2839058711190932, 0.3125408839865747, 0.01278840292749551, 1.3595199543453254, 0.29210869070741757, -0.27937522691348954, 0.18399762309705911, -0.0012176331340362498, 0.61469818507719776, 0.18160671309372653, 0.60793998734893906, -0.79441294923993289, -0.49579182816126, 2.659714596733072, 0.016416827961701061, 0.33830533970830301, 0.52253866995379383, 0.36002328765628144, 0.016473761277998041, 2.5712576170152142, 1.0998369022475509, 0.56932424136052584, -0.10625012975487146, 0.12781713884904891, -0.33333739797753947, 1.5804550479023616, 0.043646851931718723, 0.0068503527616672107, -0.34036967573621935, 0.7857966197512517, 0.97044526896788108, 0.10527905329448684, 0.26344956896744837, 0.22592895337570507, 0.053858628851377911, 0.11724803327397368, 0.015216593823273344, 0.82217125914120548, 0.18463821997153151, 0.70489094691377008, 0.14283149113423077, 0.055781134595415872, 1.1607565237237423, -0.09114196185603636, 0.48295715684042428, 0.11398271817873265, 0.077429459935878756, -0.048614674925341321, -0.038026613736510048, 0.15408358688485382, 0.46631937181939892, -0.019262200251720405, 0.66269058116488455, 2.6721736824978848, -0.45777773093221946, 0.40029092080031325, -0.0084206275905865484, 1.2269298593934101, 0.42171826683629537, 0.13640095114054757, 2.2903259259829896, 0.74769149794428802, 0.029787180166032549, 0.46300269872168109, -0.088994151666922552, 0.0080122854138467686, 2.225923766751412, 0.93544780587515552, 1.2341837776380091, 0.30625497167849569, 2.0704596830657866, 0.17465338985823037, 0.27758627313485013, 0.12754654097247389, 0.15674152120237711, -0.36939984230816375, -0.058831895301410135, 0.16752368159607048, 0.63082340167546525, -0.098046647460805852, 0.48497497052489086, 0.080797899496049888, 0.024347993888459925, 0.5647290659308899, 1.2241033469756195, 0.37423890970209639, 0.42673361540278687, 0.20124007291100859, 3.45726392935366, 0.18778740967000554, -0.035427508166840975, 0.10309941397319937, -1.0132683997162468, 0.7760411338018729, -0.086129056073280377, -0.37966903579436556, -0.041854788067558518, 0.81165052564912388, -0.24864195894143959, 0.64475622079431782, 1.1671645704413915, 0.52136128379324365, -0.022344358448764284, 0.53709997144360433, -0.13657320189304664, 0.44033324088371234, 0.072343981590858447, -0.03567738908189029, -0.10659857601584967, -0.85475521367508367, 0.021110265750144831, -0.23919694626467447, 0.019849065766140071, 1.4202208103520642, -0.0058747592523718225, 0.046183720500948239, 0.57205619934391283, 0.10399438746696762, -0.39490100724922478, -0.25237807921956135, -0.090099569194760865, 0.10897900892189467, 0.57677161359358686, 0.73463290289848215, 0.93343929111120161, 0.088586185496695641, 0.19519572583466463, 0.18853481848422771, -0.11660646208397803, 0.71093259321045998, 0.091660725308038662, 1.3271807927704991, 0.22283346778148366, -0.055545589602013043, 0.64697724389095257, 1.7578560170475765, 0.24592950618679701, -0.28640712250290923, 0.0073928448555585172, -0.17298577816476407, -0.53290184531757012, -0.50116771834569174, -0.057883352188772198, -0.10031266500984981, 0.39875753099395234, 0.70041322996015687, 1.9692354892315196, 2.2280579961415152, 0.70924763151677861, 1.220659522313563, 0.044670315929479967, 0.29148607955982697, 0.27572106158566417, 0.53647147197796652, -0.25967700817432654, 1.5802921829419592, -0.05440964534841617, 0.29205112009763157, 0.64992516944698053, 0.21707754601205795, 2.0555341793841948, 0.14511755192233428, -0.4445917835572013, -0.14491777021998761, 0.020911150831047921, 0.78208959608816053, -0.045195199500580256, -0.16336409266127327, 0.53775251566301752, 1.683154322314542]
    test0_b = [5, 5, 5, 1, 5, 1, 5, 3, 8, 3, 8, 8, 9, 1, 19, 2, 18, 1, -0.20145617977584546, 0.020234756438807223, -0.15511328463013721, -0.010245710877835523, 0.7669119359729839, 0.0043121574883160643, -0.056884461512776152, 0.070010361805030286, 1.522992034742604, 0.22302225037317919, 0.66799286312883022, -0.24311166623484962, 0.48118934242555728, 0.05970329639154115, 0.10451338300596863, 0.032653150942860296, 0.30195898291102197, 0.35525151093198704, 0.12632733731914966, 0.16597740236995584, -0.023386018435066387, -0.0067208342780739104, 0.54333738954159327, 0.39712625912130289, -0.17082333203585892, 0.34901034451968554, 0.032552081664816108, -0.036433598833645164, -0.01410087795823016, 0.0055687096405482141, 0.54039830464919036, 0.19763644917351977, 0.045362074625802752, 0.60659944118372133, 0.33986331862798097, -0.05652689053863641, -0.083403740415441671, 0.00980629532930531, 0.15374663821325341, 0.48753095854884482, -0.42785409579689093, -0.31485872131277437, -0.24776660531874223, 0.40188816099720381, -0.14358647278303574, 0.11906673901997795, 0.25553911910596849, -0.021469587277981827, 0.025791014514996664, 0.66203427203911225, -0.6611606821123871, 0.32617247331066773, -0.1489811511209925, 0.53164701654144275, -0.021789646289587513, 1.320219968972534, -0.00018580504872998106, -0.0077806837530108742, -0.27670093923146083, 0.14836667887383953, 0.4301357820973849, 0.084092735587738443, 0.14311528519955483, -0.015316519714124451, 0.0172969651712001, -0.00077506825684334505, 0.28700227119896982, 0.14769822430232585, -0.23004879544731452, 0.47028917721479913, 0.052731980249295499, 0.00039911107362757269, 0.85880059970973444, 0.33211498488398999, 0.029687222227844128, -0.046416219391156185, -0.61698389833445633, -0.066048294947768732, -0.30509340501458299, 0.070396500290786701, -0.028295674784133862, 0.013872193717595271, 0.022375960100817549, 0.81572462337297469, 0.058518565955037488, 0.17279947302011714, 0.0075546716561738477, 0.30925979169088547, 0.28748964083748219, 0.012741338054099176, 0.8623264020078989, 0.47587213457176697, 0.068543738219830619, 0.065718288872841465, -0.0088697073684186594, -0.0057466637173369415, 1.0115961946233798, -0.42509134781652497, 0.19899589694716582, -0.21239830060233067, -0.058774312259221147, -0.070731303951887869, -0.061146860097016968, -0.129058205215375, -0.0098637356687099748, -0.17072687669233916, -0.34360647133051597, 0.2205139497063778, 1.101610987555429, -0.068920010521859046, 0.059292946753783396, 0.020549306333945486, 0.058410211947566862, 0.34121424908444958, 0.55154032144652054, 0.062372490496401076, 0.088488617956825666, -0.053675276168416157, 0.73757834234543873, 0.1080208702272554, 0.0062707253483488658, -0.11388125948162928, 0.3039202630021598, 0.039521469659242192, -0.054332505645120682, -0.050964430856875804, 0.2867270012967722, 0.33998794312088554, -0.2305751333041241, -0.0016321474284209513, -0.092667367488454069, 0.038853413544336302, 0.14988151397941793, 0.29724354073917386, -0.16011156364005999, 0.17721470838997286, 0.051319165492939987, -0.15176612649885418, 0.015897769491679172, -0.57142159050393693, 0.12011138069374973, -0.20183520807079192, 0.0025658517479734298, 0.40277497447018035, -0.01615806744260289, 0.11995059797888324, 0.012684015845496624, -0.05234091199268931, -0.072244216603218045, -0.36680406408974298, -0.090986797161374908, 0.016464724152591748, -0.39760084665245116, 0.10523974050729727, -0.32471682120601664, 0.53245901001551177, 0.10047219977981933, -0.33741605360972476, 0.075968260286043685, 0.37850545427183158, 0.0042737052199406725, 0.15342463095563802, 0.076649565805120792, 0.036249263352908019, 1.2034486329168776, 0.82232811066606781, -0.018998898852826587, -0.024697187473750826, -0.024564781325253096, 0.017717664845861462, -0.26333409173462069, -0.13897097646865628, -0.12594681533958546, -0.048379008045973344, -0.31434847957734885, 0.72653989803895291, 0.20037645316554226, 0.20982552863676865, 0.34594248047844872, -0.36200153088304515, 0.0085618879450722503, 0.27820899123314624, 0.18094433108874558, 0.19978891994349246, 0.024208971273557187, 1.7729602502451915, -0.012247004474676422, -0.14401196458849172, 0.051580978052483767, 0.12265715032847882, 0.79988357427564893, -0.066566114988623734, 0.045566782769768353, -0.28136017939760988, -0.042026114749958939, 0.19813694304018131, -0.032557129466156624, -0.18010926932409785, 0.46077598527666463, -0.76886462120474974]
    test0_c = [5, 5, 5, 1, 5, 1, 5, 3, 8, 3, 8, 8, 9, 1, 19, 2, 18, 1, 0.1829781951467698, -0.40001712241167964, -0.24747869080785623, -0.056843574514595416, 1.6220820886191549, -0.034011284227377626, 0.27304963119472958, -0.25981434696696631, 6.62288083525904, 0.49159219176392083, 0.9360069245853907, 0.47505389612905879, 0.91182399626844479, 2.2603489769167822, 1.2016697353748367, 0.066556317029506248, 0.49164512561064061, 1.6002196977888665, 0.27243076125208759, -0.10546562978866995, 0.031544796534443295, 0.043496776334615586, 2.7894926454995357, 1.0348502273195279, -0.47862062171581254, 3.7424109932510983, -0.2056988010118864, 0.013191363577980682, 0.098846112719273252, 0.29350432609307492, 1.5819425795258419, 0.11048203294601368, 0.14110696371467096, 0.87570926111808844, 0.98266131859558525, -0.20428709965222239, -0.19559602984551652, 0.031567481331589389, 0.60871165242307435, 3.1428057016089692, 0.19955153926390781, 0.26801899544276192, 0.085189355902383815, 4.4811676548450645, 0.75093749760193684, 0.68484112083878657, 0.6397796512104863, -0.0088852437939852605, 0.14288857806262145, 1.8907407042422169, 1.2522191719835234, 1.3991744988212187, 0.276281651249491, 0.50225119613950997, 0.49342612362595734, 3.9409100702751982, 0.020927534629805407, 0.0075899440280729836, -0.23774856282246862, 0.71754160216605745, 1.9687087390918665, 0.32066379775821952, 1.091768468579543, 0.13071158880498429, 0.010245689836656217, 0.089325209114739818, 0.67071514596099557, 1.1097199465768193, 0.17623142020638222, 1.5004588470145706, 0.17029955478913836, 0.0091425401727694457, 4.7761437607267654, 1.47487978834192, 0.095149594277148072, 0.10067830723109052, 0.44854281523933992, -0.44171968505656461, 1.491823510726028, 0.089649741490507986, 0.93721450524044325, 0.03223182994244609, 1.8584704089822706, 3.0909935402596935, 0.091386237090965397, 0.45179238712434949, -0.02486240420421194, 2.1807886602502662, 0.28735672347144259, -0.030988418122946153, 2.2933083037640443, 0.34675211377125037, 0.28892726921407264, 0.86062481062898899, 1.0917610872639321, -0.00042953742469234777, 4.6605293891986124, 0.28396872591887123, 0.85296233599548776, 0.71646758691621548, 1.1441508807638714, -0.41639108706596856, 0.23259871451231659, -0.24719007371170332, 0.034268156226225983, -0.280734436497455, 0.56726625158817012, 0.1076336173278649, 0.77542580370053238, 0.23726424836896443, 0.22065606522398279, -0.0041255653492701999, 0.094338033629276258, 1.5232897068934612, 0.89606816409091961, 1.3855543476539667, -1.0032348565817848, -0.12682127801574808, 2.5373021629391119, 0.15915428570415815, 0.1109687368295795, 0.0405047543790307, 1.2753807702716278, 3.0541481306155602, 0.080696381741230519, 0.26944773957388829, 0.59192851081262088, 2.058658114428531, 0.38569168298439716, 0.38370159512785773, -0.010113449732892315, 3.3590087827042412, 0.4092213234404285, 0.92803827800772021, 0.32306374496713075, 0.74059353634645653, 0.16382849047779807, 0.44314573167351951, 0.13329176855445407, -0.60775146455878049, 0.37380532991712034, 0.14426549031918745, -0.0056038858962249036, 0.99806686172122427, 0.17501465547784825, -0.0074986885470095513, 0.75937447346974996, 0.072959606310251085, 0.91827896036436096, 0.81459682918649923, 0.28483594317142857, -0.13621396937461672, 0.50813278109195592, 0.55267407806470681, 1.1825333860625384, 1.4971488402288207, -0.18489325665105044, 0.56845881879144211, 0.098263422839547157, 0.65520649160130229, 0.06657215796343556, 1.3415447464382575, 0.13755426751656857, 0.29184679477574366, 1.6892930859467155, 3.4980702051292543, 0.19707150005845955, -0.091268925387165301, -0.0077755217978975446, -0.058160009639013674, 0.1913856571146057, 0.22968537845400153, -0.10920855535857334, 0.38218652515280377, 0.49730447776091002, 4.3713291319998806, 2.2537909841890804, 1.832447308695403, 1.120105447179504, 3.3278246409803494, 0.26178610975490035, 0.66111092108997993, 0.47862881780734912, 0.47318746977229142, 0.61919636427408964, 6.2557143992501834, -0.030643708965526897, 0.85035951567411006, 0.23944948150528114, 0.085572172114689232, 3.5550415555788595, 0.24605484849624518, 1.4518778204067075, -0.38082888244083113, -0.011803745652575356, 1.6771745883827331, 0.036149595772536999, 0.43737635360655264, 1.0090498842695581, 0.79200574676640778]
    test1_c = [1, 1, 4, 1, 4, 1, 5, 11, 3, 6, 9, 14, 15, 11, 15, 15, 0, 5, 0.040465916420445017, 0.024176127963357129, -0.0084165899088346017, 0.054346052915203398, 0.10247172413734121, 0.010413020156387471, -0.023926766778590319, -0.015714320359999142, 0.20250711615736444, 0.023751660686584256, 0.12511831241686755, -0.036797666357499245, -0.00479409195377769, -0.062621772022950856, -0.018907557847694094, -0.012890416814902713, 0.041380198730784384, 0.063771177478645413, -0.036506826010037761, 0.031166424695898164, 0.032102125445547115, 0.026766884567463654, 0.01708757887937801, -0.0075596644000120788, 0.0069602774227720135, 0.017043250970176879, 0.1007291127627121, 0.0018063748963900771, 0.037195266903427032, -0.032885363926168212, 0.083255235872837341, 0.027684585011162229, -0.007528990516100913, 0.13112829936905204, 0.007883723572062051, -0.0027294997285260457, 0.024846786623334477, 0.020612634133686161, 0.055264799070252862, 0.14560953401604909, -0.0053984849268834869, -0.043153317890571662, -0.013292191926650054, 0.20968854317116539, 0.073671225347974947, 0.11287781699070465, 0.023628612009991987, 0.017119474411375995, -0.0062439466229276203, 0.35631205784119702, -0.092249792994092486, 0.046671374375350974, -0.0032028819436651194, 0.01489823539713068, 0.017566564992163376, 0.1476302640404506, -0.0088357013008931694, 0.0080358032091715371, 0.0067834373588196422, -0.014292528819575358, 0.0017057161674971777, 0.0065396603076936354, -0.010248701042314552, -0.0049882299431978812, 0.0034338305821172972, -0.010839447392623823, -0.014104168368895158, 0.082083955241967071, 0.00016794241346385896, 0.10627704419753117, 0.0049652938237836411, 0.050390628653151498, 0.21455638551759346, 0.12827693419044889, -0.0073860779985393402, 0.0064672427576234724, -0.060326671641230643, 0.00066714994643299352, 0.22724928779591441, 0.013378582458930042, -0.073619249043973212, 0.11090755856104274, -0.11143026140006601, -0.01300148810894688, 0.021927543859911094, 0.10239749082921937, 0.002898659658779557, 0.015320097085111412, 0.024803691395191424, 0.014294405295376043, -0.018502100666885488, 0.0026376681394505294, 0.0099736464773519991, 0.0049471148102658022, 0.046360791079693722, -0.0037358726437143703, 0.1196666081177702, -0.012562681175202581, -0.007997851898149843, 0.010815029866039633, -0.025666868738647267, -0.006420124521022059, -0.0055703229553567407, 0.046142456948840477, -0.0041456052395537225, -0.027710215325240064, 0.017158465325083489, 0.0039044507420214667, 0.052057853338872973, -0.05066659579655311, 0.0052970007269692865, -0.015479667941125413, 0.027451158185311183, 0.10636869764450711, 0.2606857269486445, 0.049381927270776414, 0.032823396105838828, 0.0050970415924509061, -0.10339233976897574, 0.026180721619064658, 0.024964551347820711, -0.019767163322113118, 0.047263733246669958, 0.097255285077424272, 0.00033265048538948759, 0.054540016638164407, 0.026748435342143492, -0.041669723720339641, -0.06637574949256074, 0.055995534497541286, -0.003286608579026188, -0.042811323219537747, 0.073101088420549229, 0.078748079743656149, -0.045328540690510358, 0.057298361344084316, 0.015106668456060946, 0.0015995891572560181, 0.0067143457622588776, -0.11162401690523296, 0.0053544116609859386, -0.053937544056357832, 0.0032016970463011867, -0.0066189931544259669, -0.075169099780193344, 0.054978372340845065, -0.051719949473626528, -0.012536806105999275, -0.010673223767057236, -0.27834066203264624, -0.046049993149868983, 0.0083042443112900134, -0.10718187383168609, 0.045407386299191867, 0.0088454065755243175, 0.071603339242038655, -0.01272244638849138, -0.093019409617802279, -0.00083926446730020541, 0.029003931911262857, -0.0050637005663667026, 0.041841136142626828, 0.046543139228163832, 0.04498531619996566, 0.11759894423366053, 0.1287371704026492, 0.014127362879137163, -0.0030432309684811456, -0.016809832675395969, 0.00046450649021507025, -0.017540689608331529, -0.00015112941678864332, -0.00041260226385919207, 0.048334308026458411, -0.098978225523253818, 0.15220007636452471, -0.058157193280941342, -0.10933888118711656, 0.0063673377398424874, -0.19966439467768854, -0.016598505655310434, 0.083867858478472279, 0.053481454022321462, -0.0020791404170472246, 0.015457336346088023, 0.24581401873816167, 0.0032362382551091849, -0.069829138544954483, 0.011259274607805713, -0.021017336141509683, -0.1094939076234233, 0.038978242877898098, 0.10134330024167469, -0.0041620667517417026, -0.020109401510010564, 0.12720421893449788, 0.036136055421629051, 0.016185774000080123, 0.072855625323672762, 0.0094135645817573967]
    test1_d = [1, 1, 4, 1, 5, 3, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.060453606449440242, -0.13181632275524441, -0.00078686297748847291, 0.2076757300639718, 0.58202252111767061, 0.02285332061033471, -0.091856959556991219, 0.091408267799212781, 0.48144046735126655, 0.37707027075492477, 0.085259896034734883, 0.38302623458518398, 0.27540027345765439, 0.19640859585428311, 0.079281319511041254, 0.029109269636437545, -0.01346770454320213, 0.02024239331055349, 0.2130439086169886, 0.16599450129484652, 0.083463855786094415, -0.011668903544245513, 0.81330566607364674, 0.3018254991234624, 0.039880281986395677, 0.32424317026390592, -0.20229443971750791, 0.029502233751999885, -0.050555482780458801, 0.01874199050496073, 0.2359489367432801, 0.095257126270718001, -0.005647380749984254, 0.65474205157577237, 0.48471015348650021, -0.0024284112562991907, -0.15325128679218719, 0.15356359009552592, 0.041161388335546757, 0.0027005453889230465, -0.087545134922580134, -0.038980120909502931, -0.013201761482494261, 1.0497711898662945, 0.1806417050072146, -0.22039917390019995, 0.025204479749539162, 0.16171172369327777, 0.32626054798389081, 0.34788586514596254, -0.14257878518715283, -0.0012200151117312027, 0.071898226625764061, 0.16586238225620964, -0.016490759788543471, 0.059725493922442675, 0.15331298284702169, 0.0081313488027754972, -0.020533700354501659, 0.23705980027763132, 0.10486764121987383, -0.011739712919598029, 0.18300925752370492, 0.015584852991927897, -0.057957390862440561, -0.15638096124641532, -0.052577050604993618, 0.1852538453926699, -0.057478038591998251, 0.45222427802904119, -0.010026845290396283, -0.048000874018423706, 0.13626965859146065, 0.16239587506097736, -0.0029552740845470555, -0.013344602219236312, -0.026921996316048333, 0.014175817705892465, -0.1929295915686311, 0.13922568612769998, 0.4050510061155822, -0.062965228199824239, 0.070621741896118362, -0.024870240070453162, 0.016436568825312425, 0.034056640049910041, -0.020881525334594073, -0.059380384280408094, 0.18096300613704033, -0.003632370295007199, 0.29856124378161181, 0.14891228322029279, 0.0089531327950454001, -0.10830166045628185, 0.0043223874159938492, 0.06282526371722913, 1.2827140573135192, 0.11055605818497734, -0.01622212885230781, 0.28975028981770679, 0.31524478911247239, -0.0026330896687217849, -0.061053674603259132, -0.10902223331900657, 0.051716152155325809, -0.20096042625125293, -0.16724918037049591, 0.076836379278746841, 0.40115175283731763, 0.00071793842496955412, 0.012073159756758219, 6.3987443743267916e-05, 0.018117673578918352, 0.62627586830958426, 0.013576714528141744, 0.054224714250383908, 0.099508927736449204, 0.08627786578779427, 0.18914945174098297, 0.23478538293889639, -0.0050798169007855052, -0.002343834376756147, -0.035392375202155796, 0.48318271991792799, -0.017647506802774941, -0.040894827426507012, 0.0041582098433885452, 0.26813195012600072, 0.0076927595549166963, 0.027020405424964353, 0.099069848294132512, -0.047925207025872801, 0.0070157018473696372, 0.16349099653082272, 0.10009199994301261, -0.040815325275752587, 0.011342066927921699, 0.015511279669946773, -0.01479587885916756, -0.23938243426965944, -0.0096934622556664931, 0.036920334188532633, 0.036599931274409872, -0.018098319086091882, -0.016191625086699725, 0.45388389668101481, 0.013359464574567846, 0.025051988849941535, -0.0055865868121763446, 0.071895786010216942, -0.00044935281769911879, 0.04462468794040246, -0.097356489575503136, 0.061931355921563902, -0.00052955907548862043, -0.01366055035627536, -0.040565187101700956, 0.17740654122991151, 0.1247482523832105, 0.25796781992946516, -0.050820931293507399, -0.25572312591168644, 0.1022016672567314, -0.029450875061681994, 0.41757914855149014, 1.0709784971519467, 0.13710804998364445, -0.022100557652396109, -0.14399124172541755, -0.048183680573597905, -0.0075687647925361317, 0.35431841566930344, 0.00060985385753574049, 0.062168531985652371, 0.12277272354059095, -0.18463473523339299, 0.018569902104072847, 0.10582715513851808, 0.047842686875800511, 0.51975173605009506, -0.0038057794567123888, -0.19238630047787808, 0.35802107189335597, 0.43967303304385513, -0.013065515957693586, 0.3113572510360153, 0.064292096215538955, -0.052962766478115486, -0.00098121686155784723, -0.014107775520423395, 0.37235829507513768, 0.090492917675982734, -0.04473386219225186, -0.15857627297401913, 0.044685475796437335, -0.00092112467128459654, -0.027797190556631757, 0.00063115782715996295, 0.070017654849637956, 0.10551144483703069]
    test0_d = [1, 1, 4, 1, 4, 1, 5, 11, 3, 6, 9, 14, 15, 11, 15, 15, 0, 5, 0.16993610594341416, -0.1873030840452162, -0.0078847289486107738, 0.067851656987730477, 0.5276944145950756, -0.030739224873903948, 0.32815968086693204, -0.070563433589981822, 2.1378148264000889, 0.1527161493861372, 0.34631914000629016, 0.14690925581745795, 0.22217117781602336, 0.77211283702582545, 0.5883992168543718, 0.045464703669409703, 0.1753314879484954, 0.80268664219530572, 0.44173409783333639, -0.037674089067002613, -0.054251200392320842, 0.0733343500070366, 0.90607015533153934, 0.52082649597835939, -0.076065965724442797, 1.456317364113852, 0.19005913548588624, 0.047361719924352855, 0.13888791976223394, 0.038393367732284828, 0.73269706033398885, 0.069686372802889363, 0.061993478596876324, 0.35061474383003211, 0.43160227891728659, -0.0063670132667985454, 0.075579696521763273, -0.14757433901119033, 0.21848144784561788, 1.5945890699788119, 0.023969666686704812, 0.086104189023185326, 0.013652797784967455, 2.2678010503711938, 0.39827583296356156, 0.57621809054774231, 0.24777148103690746, 0.001028751613302243, 0.083346564734177314, 0.83242784825710292, 0.43331391847296569, 0.48529405331929143, 0.039135084798719674, 0.085718162407563331, 0.18465772899926206, 1.8604264257708309, 0.057213622494001602, -0.0062398467028244343, 0.032020509784074162, 0.31567555808220754, 0.45469020482100875, -0.05817487914574393, 0.28359655210333234, 0.049427888386332303, -0.014644114038774095, 0.070808457430668034, 0.32580440538018185, 0.32501413858334871, 0.095072868368912669, 0.80536691836816776, 0.1789207156886008, 0.0082504656719761382, 1.8450216466265994, 0.67592576118637993, 0.018245137503641446, -0.015151586847894414, 0.091313945082956802, 0.015966751344336023, 0.85162717194664017, 0.061224095954042261, 0.4160844526512828, 0.33440254842289702, 0.53882333933099524, 1.234533229739756, 0.046866000861522317, 0.36732280866084654, -0.0079342990017482375, 0.654142774758115, 0.14004161682589911, 0.013231199997218593, 0.63962675436344774, 0.089863759637744692, 0.090549800165343433, 0.088610664993861651, 0.42968449568366601, -0.00060841313695306415, 1.8604877397339104, 0.095937536969355794, 0.27959382513466713, 0.22497003312536729, 0.18106736685360872, -0.059419852447933512, 0.055717508156034393, -0.074127358777755406, 0.0036851702665979657, -0.15679206464721232, 0.51439395228006235, 0.015956314428256121, 0.27028614195940082, 0.11286395722316848, 0.027669319358608294, 0.011423958114053671, 0.13192068001536533, 0.56760914916547167, 0.43398757909129104, 0.47762106886827532, -0.25264305083772981, -0.019498472190908975, 1.0025571265935542, 0.052504735760453614, 0.15510341799687574, 0.023310242286515633, 0.38469658293008341, 1.303531861540637, 0.062405007597929774, 0.17696287369924799, 0.31931476904873551, 0.69780179018901023, 0.13115177564352334, 0.15348413483279064, -0.00027700743894676534, 0.58693471939325037, 0.13996625093716561, 0.7421609156662754, 0.19124356851681604, 0.27056603990714856, 0.22478148240159274, 0.067285556689897122, 0.075545700453630515, -0.22882676970821378, 0.038318971405609248, 0.043286785035393655, 0.041990370542169773, 0.22811629438912898, 0.12174875314738429, -0.0037889946121261267, 0.13954780949818504, 0.029354908688834076, 0.16190908374108332, 0.28922853862063924, 0.21964071497869189, -0.071311686432800836, 0.19932356101746848, 0.20069534129169389, 0.41491721850263769, 0.71730905990517935, 0.063815212161434404, 0.22099314828871347, -0.0021985636325898487, 0.28983445365955468, 0.015679277981292154, 0.62292706727363412, 0.10497691593221771, 0.12174634813655606, 0.69986854542504684, 1.698575844861441, 0.13334555047017269, -0.010650483646855715, -0.019685224058206063, -0.0061440031312643088, 0.075302421705342223, 0.010627205647362007, 0.0083059994431720907, 0.23062598995441771, 0.18105659329999801, 2.152744590830177, 0.65929448047613171, 0.35608228536435671, 0.68355706116410442, 1.2595295091848815, 0.09419759672818441, 0.22573345988533683, 0.26287401008594036, 0.26395246527810978, 0.3370023113332008, 1.9527343111344231, 0.019608228456885132, 0.39589926934033404, 0.027067957301724541, -0.033576433714797474, 1.7925708697532099, 0.1335210856104892, 0.61468081048788981, -0.44310596645587302, -0.0092563649172328084, 0.77568593355808868, -0.051859236513086528, 0.12304408767804587, 0.22856841650729706, 0.28050537274155751]


    x = np.asarray([test, test1_a, test1_b, test0_a, test0_b, test1_c, test1_d, test0_c, test0_d])
    print(x.shape)
    scaler = StandardScaler()
    scaler.fit(x)
    x = scaler.transform(x)

    dec = clf2.decision_function(x)  # 返回的是样本距离超平面的距离   probability=False
    print(dec)

    # gold  [x 1 1 0 0 1 1 0 0]
    # +pos+标准化
    # rbf   [1 0 1 0 0 1 0 0 0]
    # +pos+local+标准化 √
    # linear   [1 0 1 0 0 1 1 1 1]
    # rbf   [1 0 1 0 1 1 1 0 0]
    # +pos+local
    # rbf   [1 0 0 0 0 0 1 0 0]
    print(clf2.predict(x))
